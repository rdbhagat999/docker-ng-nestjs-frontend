<h1 class="h2 mt-3 pb-3 mb-3 border-bottom">Create Role</h1>

<form [formGroup]="form" (ngSubmit)="handleSubmit()">

  <div class="mb-3">
    <label for="inputName" class="form-label">Name</label>
    <input type="text" id="inputName" class="form-control" placeholder="Name" formControlName="name">

    <div id="nameHelpBlock" *ngIf="f?.name.invalid && (f?.name.touched || f?.name.dirty)" class="text-danger">
      <div *ngIf="f?.name.errors?.required">Role is required.</div>
      <div *ngIf="f?.name.errors?.minlength">Role must be at least 2 characters long.</div>
      <div *ngIf="f?.name.errors?.maxlength">Role must be at most 21 characters long.</div>
      <div *ngIf="f?.name.errors?.pattern">Only characters are allowed.</div>
    </div>

  </div>

  <div class="row mb-3" formArrayName="permissionIds">

    <label class="form-label">Permissions</label>

    <div class="col-sm-3" *ngFor="let item of (permissions); let i = index;" [formGroupName]="i">

      <div class="form-check form-check-inline mb-3">
        <input class="form-check-input" type="checkbox" formControlName="value" [id]="item?.name">
        <label class="form-check-label" [for]="item?.name">
          {{ item?.name | titlecase}}
        </label>
      </div>

    </div>

  </div>


  <button type="submit" class="btn btn-primary">Submit</button>

</form>
